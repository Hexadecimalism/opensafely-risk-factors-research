---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Github\opencorona-risk-factors-research\analysis\output/an_univariable_cox_models_cpnsdeath_htdiag_or_highbpTOorgan_transplant.log
  log type:  text
 opened on:  28 Apr 2020, 17:10:58

. 
. * Open dataset and fit specified model(s)
. use cr_create_analysis_dataset, clear
(Analysis dataset for the poor outcomes in Covid project)

. 
. stset stime_`outcome', fail(`outcome') enter(enter_date) origin(enter_date) id(patient_id) 

                id:  patient_id
     failure event:  cpnsdeath != 0 & cpnsdeath < .
obs. time interval:  (stime_cpnsdeath[_n-1], stime_cpnsdeath]
 enter on or after:  time enter_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time enter_date

------------------------------------------------------------------------------
    100,575  total observations
          3  observations end on or before enter()
------------------------------------------------------------------------------
    100,572  observations remaining, representing
    100,572  subjects
          1  failure in single-failure-per-subject data
  8,447,712  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =        84

. 
. foreach var of any `varlist' {
  2. 
.         *Special cases
.         if "`var'"=="agesplsex" local model "age1 age2 age3 i.male"
  3.         else if "`var'"=="agegroupsex" local model "ib3.agegroup i.male"
  4.         else if "`var'"=="bmicat" local model "age1 age2 age3 i.male ib2.bmicat"
  5.         *General form of model
.         else local model "age1 age2 age3 i.`var'"
  6. 
.         *Fit and save model
.         cap erase ./output/models/an_univariable_cox_models_`outcome'_AGESEX_`var'.ster
  7.         capture stcox `model' , strata(stp) 
  8.         if _rc==0 {
  9.                 estimates
 10.                 estimates save ./output/models/an_univariable_cox_models_`outcome'_AGESEX_`var', replace
 11.                 }
 12.         else di "WARNING - `var' vs `outcome' MODEL DID NOT SUCCESSFULLY FIT"
 13. 
. }
WARNING - htdiag_or_highbp vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
active results
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Stratified Cox regr. -- no ties

No. of subjects =       55,034                  Number of obs    =      55,034
No. of failures =            0
Time at risk    =      4622856
                                                LR chi2(0)       =        0.00
Log likelihood  =            0                  Prob > chi2      =           .

---------------------------------------------------------------------------------
             _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
           age1 |          1  (omitted)
           age2 |          1  (omitted)
           age3 |          1  (omitted)
                |
          bpcat |
      Elevated  |          1  (omitted)
 High, stage I  |          1  (omitted)
High, stage II  |          1  (omitted)
---------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_bpcat.ster not found)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_bpcat.ster saved
WARNING - hypertension vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT
WARNING - imd vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT
WARNING - obese4cat vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
active results
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Stratified Cox regr. -- no ties

No. of subjects =       10,384                  Number of obs    =      10,384
No. of failures =            0
Time at risk    =       872256
                                                LR chi2(0)       =        0.00
Log likelihood  =            0                  Prob > chi2      =           .

---------------------------------------------------------------------------------------
                   _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
----------------------+----------------------------------------------------------------
                 age1 |          1  (omitted)
                 age2 |          1  (omitted)
                 age3 |          1  (omitted)
               1.male |          1  (omitted)
                      |
               bmicat |
 Underweight (<18.5)  |          1  (omitted)
Overweight (25-29.9)  |          1  (omitted)
   Obese I (30-34.9)  |          1  (omitted)
  Obese II (35-39.9)  |          1  (omitted)
     Obese III (40+)  |          1  (omitted)
---------------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_bmicat.ster not found)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_bmicat.ster saved
WARNING - organ_transplant vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT

. 
. 
. * Close log file
. log close
      name:  <unnamed>
       log:  C:\Github\opencorona-risk-factors-research\analysis\output/an_univariable_cox_models_cpnsdeath_htdiag_or_highbpTOorgan_transplant.log
  log type:  text
 closed on:  28 Apr 2020, 17:11:12
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
