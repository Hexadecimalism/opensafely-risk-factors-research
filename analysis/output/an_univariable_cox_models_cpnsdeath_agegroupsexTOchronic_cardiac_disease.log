---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Github\opencorona-risk-factors-research\analysis\output/an_univariable_cox_models_cpnsdeath_agegroupsexTOchronic_cardiac_disease.log
  log type:  text
 opened on:  28 Apr 2020, 02:21:51

. 
. * Open dataset and fit specified model(s)
. use cr_create_analysis_dataset, clear
(Analysis dataset for the poor outcomes in Covid project)

. 
. stset stime_`outcome', fail(`outcome') enter(enter_date) origin(enter_date) id(patient_id) 

                id:  patient_id
     failure event:  cpnsdeath != 0 & cpnsdeath < .
obs. time interval:  (stime_cpnsdeath[_n-1], stime_cpnsdeath]
 enter on or after:  time enter_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time enter_date

------------------------------------------------------------------------------
    100,575  total observations
          3  observations end on or before enter()
------------------------------------------------------------------------------
    100,572  observations remaining, representing
    100,572  subjects
          1  failure in single-failure-per-subject data
  7,542,636  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =        75

. 
. foreach var of any `varlist' {
  2. 
.         *Special cases
.         if "`var'"=="agesplsex" local model "age1 age2 age3 i.male"
  3.         else if "`var'"=="agegroupsex" local model "ib3.agegroup i.male"
  4.         else if "`var'"=="bmicat" local model "age1 age2 age3 i.male ib2.bmicat"
  5.         *General form of model
.         else local model "age1 age2 age3 i.`var'"
  6. 
.         *Fit and save model
.         cap erase ./output/models/an_univariable_cox_models_`outcome'_AGESEX_`var'.ster
  7.         capture stcox `model' , strata(stp) 
  8.         if _rc==0 {
  9.                 estimates
 10.                 estimates save ./output/models/an_univariable_cox_models_`outcome'_AGESEX_`var', replace
 11.                 }
 12.         else di "WARNING - `var' vs `outcome' MODEL DID NOT SUCCESSFULLY FIT"
 13. 
. }

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
active results
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Stratified Cox regr. -- no ties

No. of subjects =      100,572                  Number of obs    =     100,572
No. of failures =            1
Time at risk    =      7542636
                                                LR chi2(6)       =        4.56
Log likelihood  =   -7.8694017                  Prob > chi2      =      0.6018

------------------------------------------------------------------------------
          _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    agegroup |
     18-<40  |   5.04e+14   1.21e+22     0.00   1.000            0           .
     40-<50  |   .0072396    1874906    -0.00   1.000            0           .
     60-<70  |   .0065236    2119481    -0.00   1.000            0           .
     70-<80  |   .0062824    2253591    -0.00   1.000            0           .
        80+  |   .0067276    2728683    -0.00   1.000            0           .
             |
      1.male |   1.84e-16   1.34e-08    -0.00   1.000            0           .
------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_agegroupsex.ster not found)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_agegroupsex.ster saved
WARNING - agesplsex vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT
WARNING - asthmacat vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT
WARNING - cancer_exhaem_cat vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT
WARNING - cancer_haem_cat vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT
WARNING - chronic_cardiac_disease vs cpnsdeath MODEL DID NOT SUCCESSFULLY FIT

. 
. 
. * Close log file
. log close
      name:  <unnamed>
       log:  C:\Github\opencorona-risk-factors-research\analysis\output/an_univariable_cox_models_cpnsdeath_agegroupsexTOchronic_cardiac_disease.log
  log type:  text
 closed on:  28 Apr 2020, 02:22:10
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
