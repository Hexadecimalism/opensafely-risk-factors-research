---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Github\opencorona-risk-factors-research\analysis\output/an_univariable_cox_models_.log
  log type:  text
 opened on:  23 Apr 2020, 23:40:12

. 
. use egdata, clear
(Poor factors dummy analysis dataset)

. 
. *****************
. *  Age and sex  *
. *****************
. 
. 
.         stset stime_`outcome', fail(`outcome') enter(enter_date) origin(enter_date) id(patient_id) 
stime_ ambiguous abbreviation
r(111);

end of do-file

r(111);

. do "C:\Users\Krish\AppData\Local\Temp\STD884_000000.tmp"

. do "an_univariable_cox_models.do" cpnsdeath

. ********************************************************************************
. *
. *       Do-file:                an_univariable_cox_models.do
. *
. *       Project:                Risk factors for poor outcomes in Covid-19
. *
. *       Programmed by:  Fizz & Krishnan
. *
. *       Data used:              egdata.dta
. *
. *       Data created:   None
. *
. *       Other output:   Log file: an_univariable_cox_models.log 
. *
. *
. ********************************************************************************
. *
. *       Purpose:                This do-file is a very initial draft of Stata code to 
. *                                       do poor outcomes analysis.
. *  
. ********************************************************************************
. 
. 
. local outcome `1'

. 
. local listofvars        bmicat                                                  ///
>                                         obese40                                                 ///
>                                         smoke                                                   ///
>                                         currentsmoke                                    ///
>                                         ethnicity                                               ///
>                                         imd                                                     ///
>                                         bpcat                                                   ///
>                                         bphigh                                                  ///
>                                         chronic_respiratory_disease     ///
>                                         asthma                                                  ///
>                                         chronic_cardiac_disease                 ///
>                                         diabetes                                                ///
>                                         cancer_exhaem_lastyr                    ///
>                                         haemmalig_aanaem_bmtrans_lastyr ///
>                                         chronic_liver_disease                   ///
>                                         stroke_dementia                                 ///
>                                         other_neuro                                             ///
>                                         chronic_kidney_disease                  ///
>                                         organ_transplant                                ///
>                                         spleen                                                  /// 
>                                         ra_sle_psoriasis                                ///
>                                         /*endocrine?*/                                  ///
>                                         /*immunosuppression?*/                  

. 
. *First clean up all old saved estimates for this outcome
.         cap erase ./output/models/an_univariable_cox_models_`outcome'_AGESPLSEX_.ster

.         cap erase./output/models/an_univariable_cox_models_`outcome'_AGEGROUPSEX_.ster

. foreach var of any `listofvars' {
  2.         cap erase./output/models/an_univariable_cox_models_`outcome'_AGESPLSEX_`var'.ster
  3.         }

. 
. * Open a log file
. capture log close
