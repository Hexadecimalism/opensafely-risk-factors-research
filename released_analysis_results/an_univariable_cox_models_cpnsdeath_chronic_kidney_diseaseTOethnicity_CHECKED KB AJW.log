--------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  E:\analyses\alex-tmp-repo-2\analysis\output/an_univariable_cox_models_cpnsdeath
> _chronic_kidney_diseaseTOethnicity.log
  log type:  text
 opened on:  30 Apr 2020, 01:24:51

. 
. * Open dataset and fit specified model(s)
. use cr_create_analysis_dataset, clear
(Analysis dataset for the poor outcomes in Covid project)

. 
. stset stime_`outcome', fail(`outcome') enter(enter_date) origin(enter_date) id(patient_id)
>  

                id:  patient_id
     failure event:  cpnsdeath != 0 & cpnsdeath < .
obs. time interval:  (stime_cpnsdeath[_n-1], stime_cpnsdeath]
 enter on or after:  time enter_date
 exit on or before:  failure
    t for analysis:  (time-origin)
            origin:  time enter_date

------------------------------------------------------------------------------
   17420594  total observations
        466  observations end on or before enter()
------------------------------------------------------------------------------
   17420128  observations remaining, representing
   17420128  subjects
      5,707  failures in single-failure-per-subject data
 1.4615e+09  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =        84

. 
. foreach var of any `varlist' {
  2. 
.         *Special cases
.         if "`var'"=="agesplsex" local model "age1 age2 age3 i.male"
  3.         else if "`var'"=="agegroupsex" local model "ib3.agegroup i.male"
  4.         else if "`var'"=="bmicat" local model "age1 age2 age3 i.male ib2.bmicat"
  5.         *General form of model
.         else local model "age1 age2 age3 i.`var'"
  6. 
.         *Fit and save model
.         cap erase ./output/models/an_univariable_cox_models_`outcome'_AGESEX_`var'.ster
  7.         capture stcox `model' , strata(stp) 
  8.         if _rc==0 {
  9.                 estimates
 10.                 estimates save ./output/models/an_univariable_cox_models_`outcome'_AGES
> EX_`var', replace
 11.                 }
 12.         else di "WARNING - `var' vs `outcome' MODEL DID NOT SUCCESSFULLY FIT"
 13. 
. }

--------------------------------------------------------------------------------------------
active results
--------------------------------------------------------------------------------------------

Stratified Cox regr. -- Breslow method for ties

No. of subjects =   17,420,128                  Number of obs    =  17,420,128
No. of failures =        5,707
Time at risk    =   1461529354
                                                LR chi2(4)       =    15119.99
Log likelihood  =   -69240.059                  Prob > chi2      =      0.0000

------------------------------------------------------------------------------------------
                      _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
-------------------------+----------------------------------------------------------------
                    age1 |   1.094411   .0246014     4.01   0.000      1.04724    1.143707
                    age2 |   1.109833   .0562058     2.06   0.040     1.004962    1.225647
                    age3 |   .7064775   .0842496    -2.91   0.004     .5592294    .8924968
1.chronic_kidney_disease |   2.153213   .0657631    25.11   0.000     2.028101    2.286042
------------------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_chronic_kidney_diseas
> e.ster not found)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_chronic_kidney_disease.ster 
> saved

--------------------------------------------------------------------------------------------
active results
--------------------------------------------------------------------------------------------

Stratified Cox regr. -- Breslow method for ties

No. of subjects =   17,420,128                  Number of obs    =  17,420,128
No. of failures =        5,707
Time at risk    =   1461529354
                                                LR chi2(4)       =    14560.80
Log likelihood  =   -69519.654                  Prob > chi2      =      0.0000

-----------------------------------------------------------------------------------------
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   age1 |   1.101343   .0250243     4.25   0.000     1.053372    1.151498
                   age2 |   1.082851   .0552923     1.56   0.119     .9797262     1.19683
                   age3 |    .777689   .0933743    -2.09   0.036      .614618    .9840263
1.chronic_liver_disease |   2.338124     .22345     8.89   0.000     1.938741     2.81978
-----------------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_chronic_liver_disease
> .ster not found)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_chronic_liver_disease.ster s
> aved

--------------------------------------------------------------------------------------------
active results
--------------------------------------------------------------------------------------------

Stratified Cox regr. -- Breslow method for ties

No. of subjects =   17,420,128                  Number of obs    =  17,420,128
No. of failures =        5,707
Time at risk    =   1461529354
                                                LR chi2(4)       =    15099.20
Log likelihood  =   -69250.454                  Prob > chi2      =      0.0000

-------------------------------------------------------------------------------------------
                       _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
                     age1 |   1.115773    .025969     4.71   0.000     1.066018    1.167851
                     age2 |   1.034855   .0538944     0.66   0.511     .9344359    1.146065
                     age3 |   .8725264   .1066299    -1.12   0.264     .6866806     1.10867
1.chronic_respiratory_d~e |   2.339772   .0749803    26.53   0.000     2.197333    2.491444
-------------------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_chronic_respiratory_d
> isease.ster not found)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_chronic_respiratory_disease.
> ster saved

--------------------------------------------------------------------------------------------
active results
--------------------------------------------------------------------------------------------

Stratified Cox regr. -- Breslow method for ties

No. of subjects =   17,420,128                  Number of obs    =  17,420,128
No. of failures =        5,707
Time at risk    =   1461529354
                                                LR chi2(6)       =    15619.75
Log likelihood  =   -68990.178                  Prob > chi2      =      0.0000

-------------------------------------------------------------------------------------------
                       _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
--------------------------+----------------------------------------------------------------
                     age1 |   1.112413   .0257632     4.60   0.000     1.063046    1.164071
                     age2 |   1.028056   .0533384     0.53   0.594     .9286546    1.138098
                     age3 |   .8962273   .1091883    -0.90   0.368     .7058548    1.137944
                          |
                  diabcat |
     Controlled diabetes  |   2.033886   .0669505    21.57   0.000     1.906809    2.169432
   Uncontrolled diabetes  |   3.606582   .1445058    32.02   0.000     3.334191    3.901226
Diabetes, no hba1c mea..  |   2.383816   .1577616    13.13   0.000     2.093823    2.713972
-------------------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_diabcat.ster not foun
> d)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_diabcat.ster saved

--------------------------------------------------------------------------------------------
active results
--------------------------------------------------------------------------------------------

Stratified Cox regr. -- Breslow method for ties

No. of subjects =   12,823,022                  Number of obs    =  12,823,022
No. of failures =        4,245
Time at risk    =   1075891381
                                                LR chi2(7)       =    10832.24
Log likelihood  =   -50572.503                  Prob > chi2      =      0.0000

-----------------------------------------------------------------------------------------
                     _t | Haz. Ratio   Std. Err.      z    P>|z|     [95% Conf. Interval]
------------------------+----------------------------------------------------------------
                   age1 |    1.09077   .0280453     3.38   0.001     1.037164    1.147146
                   age2 |   1.110842   .0642816     1.82   0.069     .9917348    1.244255
                   age3 |   .7331154   .0998084    -2.28   0.023     .5614194    .9573203
                        |
              ethnicity |
                 Mixed  |   1.821092   .2955282     3.69   0.000     1.324946    2.503027
Asian or Asian British  |   1.927786   .1133604    11.16   0.000     1.717929    2.163278
                 Black  |   2.151595   .1830627     9.01   0.000     1.821119    2.542042
                 Other  |   1.385574   .1817201     2.49   0.013     1.071503    1.791703
-----------------------------------------------------------------------------------------
                                                             Stratified by stp
(note: file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_ethnicity.ster not fo
> und)
file ./output/models/an_univariable_cox_models_cpnsdeath_AGESEX_ethnicity.ster saved

. 
. 
. * Close log file
. log close
      name:  <unnamed>
       log:  E:\analyses\alex-tmp-repo-2\analysis\output/an_univariable_cox_models_cpnsdeath
> _chronic_kidney_diseaseTOethnicity.log
  log type:  text
 closed on:  30 Apr 2020, 02:37:27
--------------------------------------------------------------------------------------------
